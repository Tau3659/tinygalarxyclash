# 🌐 无人机战略游戏 - 云端部署指南

## 🎯 部署目标
将单机版无人机战略游戏部署到云端，让任何人都可以通过浏览器访问和游戏。

## 📋 部署选项

### 选项1：微信云托管（推荐）
**优势**: 国内访问速度快，支持自定义域名，免费额度充足

#### 部署步骤：
1. **准备代码**
   ```bash
   # 确保使用简化版服务器
   npm install --production
   ```

2. **微信开发者工具部署**
   - 打开微信开发者工具
   - 选择"云托管"项目
   - 上传项目文件
   - 配置容器服务

3. **配置环境**
   - 端口：3000
   - 内存：512MB
   - CPU：0.25核

### 选项2：Vercel（最简单）
**优势**: 部署极其简单，自动HTTPS，全球CDN

#### 部署步骤：
1. **安装Vercel CLI**
   ```bash
   npm install -g vercel
   ```

2. **部署**
   ```bash
   vercel --prod
   ```

3. **配置vercel.json**（已创建）

### 选项3：Heroku
**优势**: 老牌云平台，稳定可靠

#### 部署步骤：
1. **创建Heroku应用**
2. **连接Git仓库**
3. **自动部署**

### 选项4：阿里云/腾讯云
**优势**: 国内服务商，可控性强

## 🚀 快速部署测试

### 本地测试简化版服务器
```bash
# 停止之前的复杂服务器
# 启动简化版服务器
D:\nodejs\node.exe simple_server.js
```

访问: http://localhost:3000

## 📁 部署文件清单

### 必需文件：
- ✅ `simple_server.js` - 简化服务器
- ✅ `package.json` - 依赖配置
- ✅ `index.html` - 游戏主页面
- ✅ `game.js` - 游戏逻辑
- ✅ `assets/` - 游戏资源
- ✅ `Dockerfile` - 容器配置

### 可选文件：
- `README.md` - 项目说明
- `preview.html` - 素材预览
- 测试文件等

## 🔧 配置说明

### 环境变量
```bash
PORT=3000                    # 服务器端口
NODE_ENV=production         # 生产环境
```

### 域名配置
部署后可以：
1. 使用平台提供的默认域名
2. 绑定自定义域名
3. 配置HTTPS证书

## 📊 性能优化

### 静态资源优化
- 图片压缩
- 代码压缩
- 启用Gzip压缩

### 缓存策略
```javascript
// 在simple_server.js中添加缓存头
app.use(express.static('.', {
    maxAge: '1d' // 静态文件缓存1天
}));
```

## 🛡️ 安全配置

### 基础安全
- 隐藏服务器信息
- 设置安全头
- 限制请求频率

## 📱 移动端适配

游戏已支持移动端：
- 响应式设计
- 触屏操作
- 自适应布局

## 🎮 用户访问流程

1. **访问网址** → 自动加载游戏
2. **选择模式** → 1v1、2v2、混战
3. **设置难度** → 简单、中等、困难
4. **开始游戏** → 立即开始单机对战

## 📈 监控和维护

### 健康检查
- 端点：`/health`
- 返回服务器状态

### 游戏信息
- 端点：`/api/info`
- 返回游戏详情

## 💰 成本估算

### 微信云托管
- 免费额度：每月1000小时
- 超出后：约0.1元/小时

### Vercel
- 免费额度：100GB流量/月
- 超出后：$20/月

## 🎯 部署建议

1. **首选微信云托管** - 国内用户访问速度最佳
2. **备选Vercel** - 国际用户或追求简单部署
3. **企业用户** - 考虑阿里云/腾讯云

## 🔄 更新部署

代码更新后：
1. 重新上传代码
2. 重启容器服务
3. 验证功能正常

## 📞 技术支持

部署遇到问题时：
1. 检查服务器日志
2. 验证端口配置
3. 确认文件完整性

---

**准备好部署了吗？选择一个平台开始吧！🚀**