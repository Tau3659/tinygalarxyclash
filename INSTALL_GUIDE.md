# 🚀 本地测试安装指南

## 方法一：直接测试（推荐）

### 1. 测试客户端功能
直接双击打开 `local_test.html` 文件，这个文件包含：
- ✅ 模拟的Socket.IO服务器
- ✅ 网络层功能测试
- ✅ 游戏逻辑测试
- ✅ 联机功能模拟

### 2. 测试步骤
1. 双击 `local_test.html` 文件
2. 浏览器会自动打开测试页面
3. 点击测试按钮验证各项功能
4. 查看测试结果和游戏渲染

## 方法二：完整服务器测试

如果你想测试完整的服务器功能，需要先安装Node.js：

### 1. 安装Node.js

#### Windows系统：
1. 访问 [Node.js官网](https://nodejs.org/)
2. 下载LTS版本（推荐18.x或更高版本）
3. 运行安装程序，按默认设置安装
4. 重启命令行工具

#### 验证安装：
```bash
node --version
npm --version
```

### 2. 安装项目依赖
```bash
# 在项目根目录执行
npm install
```

### 3. 启动开发服务器
```bash
# 启动服务器
npm start

# 或者启动开发模式（如果安装了nodemon）
npm run dev
```

### 4. 访问游戏
打开浏览器访问: `http://localhost:3000`

## 🧪 测试功能清单

### 客户端测试（local_test.html）
- [x] 页面加载
- [x] 网络管理器初始化
- [x] 游戏类定义检查
- [x] 画布渲染测试
- [x] 模拟联机流程

### 服务器测试（需要Node.js）
- [x] Express服务器启动
- [x] Socket.IO连接
- [x] 房间创建和管理
- [x] 玩家加入和离开
- [x] 游戏状态同步
- [x] 实时通信

## 🔧 故障排除

### 问题1：Node.js未安装
**现象**: `npm : 无法将"npm"项识别为 cmdlet`
**解决**: 按照上述步骤安装Node.js

### 问题2：端口被占用
**现象**: `Error: listen EADDRINUSE :::3000`
**解决**: 
```bash
# 查找占用端口的进程
netstat -ano | findstr :3000

# 或者使用其他端口
set PORT=3001 && npm start
```

### 问题3：依赖安装失败
**现象**: `npm install` 报错
**解决**:
```bash
# 清理缓存
npm cache clean --force

# 删除node_modules重新安装
rmdir /s node_modules
npm install
```

### 问题4：浏览器无法访问
**现象**: 无法打开 `http://localhost:3000`
**解决**:
1. 确认服务器已启动
2. 检查防火墙设置
3. 尝试使用 `127.0.0.1:3000`

## 📱 多设备测试

### 局域网测试
1. 查看本机IP地址：`ipconfig`
2. 确保防火墙允许3000端口
3. 其他设备访问：`http://你的IP:3000`

### 移动设备测试
1. 手机连接同一WiFi
2. 访问电脑的IP地址
3. 测试触屏操作兼容性

## 🎯 测试建议

### 单人测试
1. 先用 `local_test.html` 验证基础功能
2. 确认游戏逻辑正常工作
3. 检查UI界面显示

### 多人测试
1. 启动Node.js服务器
2. 多个浏览器窗口模拟多玩家
3. 测试房间创建、加入、游戏同步

### 性能测试
1. 监控CPU和内存使用
2. 测试多房间并发
3. 检查网络延迟影响

## 🚀 下一步

测试完成后，你可以：
1. 调整游戏参数和平衡性
2. 添加新功能和游戏模式
3. 优化网络性能
4. 准备部署到微信云托管

祝测试顺利！🎮